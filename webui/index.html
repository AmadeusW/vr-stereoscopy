<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>VR Stereoscopy</title>
    <meta name="description" content="Watch stereoscopic images in your VR headset">
    <script src="lib/aframe.min.js"></script>
    <script src="lib/aframe-stereo-component.js"></script>
    <script src="lib/aframe-animation-component.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <!-- <img id="sampleAsset" src="ui/img.png" /> -->
      </a-assets>

      <a-camera id="camera" position="0 0 0" stereocam="eye:left;">
        <a-cursor fuse="true" color="yellow" fuseTimeout="1000" raycaster="objects: .ui"> <!-- todo: see why FAR nor OBJECTS don't work -->
          <a-animation begin="click" easing="ease-in" attribute="scale"
             fill="backwards" to="1 1 1" dur="100"></a-animation>
          <a-animation begin="mouseleave" easing="ease-out" attribute="scale"
             fill="backwards" to="1 1 1" dur="300"></a-animation>
          <a-animation begin="fusing" easing="ease-in" attribute="scale"
             fill="forwards" to="0.1 0.1 0.1" dur="1000"></a-animation>
        </a-cursor> <!-- TODO: Use cursor only when no controllers found -->

        <!-- Stereo picture -->
        <a-entity id="mainPane">
          <a-plane id="leftPlane"  position="0 0 -4" width="9" height="9" src="images/5w2nrt.L.jpg" stereo="eye: right"></a-plane>
          <a-plane id="rightPlane" position="0 0 -4" width="9" height="9" src="images/5w2nrt.R.jpg" stereo="eye: left"></a-plane>
        </a-entity>

      </a-camera>

      <!-- Navigation in slideshow mode -->
      <a-entity id="scrollPane" position="0 1 -3">
        <a-entity id="scrollR" class="ui" position="3 0 0" rotation="0 0 -90" scale="0.3 0.5 0.3" geometry="primitive: cone; radiusBottom: 0.4; radiusTop: 0" color="limegreen">
          <a-animation begin="fusing" easing="ease-out" attribute="scale"
            fill="forwards" to="0.5 0.7 0.5" dur="200"></a-animation>
          <a-animation begin="mouseleave" easing="ease-out" attribute="scale"
            fill="forwards" to="0.3 0.5 0.3" dur="300"></a-animation>
        </a-entity>
        <a-entity id="scrollL" class="ui" position="-3 0 0" rotation="0 0 90" scale="0.3 0.5 0.3" geometry="primitive: cone; radiusBottom: 0.4; radiusTop: 0">
          <a-animation begin="fusing" easing="ease-out" attribute="scale"
            fill="forwards" to="0.5 0.7 0.5" dur="200"></a-animation>
          <a-animation begin="mouseleave" easing="ease-out" attribute="scale"
            fill="forwards" to="0.3 0.5 0.3" dur="300"></a-animation>
        </a-entity>
      </a-entity>

      <!-- Menu -->
      <a-entity id="menuPane" visible="false" position="0 2 -3">
        <a-text id="menuTitle" position="0 0.5 0" value="Stereoscopy in VR"></a-text>
        <a-entity id="categoryTemplate" class="ui" visible="false">
          <a-plane class="thumbL" class="ui" position="0 -0.8 0" width=".3" height=".3" src="images/5w2nrt.T.L.jpg" stereo="eye: right"></a-plane>
          <a-plane class="thumbR" class="ui" position="0 -0.8 0" width=".3" height=".3" src="images/5w2nrt.T.R.jpg" stereo="eye: left"></a-plane>
          <a-text class="title" position="0 0.2 0" scale="0.3 0.3 0.3" color="red" value="Sample category"></a-text>
          <!-- TODO: apply animation only to a-planes
          <a-animation begin="fusing" easing="ease-out" attribute="scale"
            fill="forwards" to="1.2 1.2 1.2" dur="200"></a-animation>
          <a-animation begin="mouseleave" easing="ease-out" attribute="scale"
            fill="forwards" to="1 1 1" dur="300"></a-animation> -->
        </a-entity>
      </a-entity>
        
      <a-sky color="#000"></a-sky>
      <a-light type="ambient"></a-light>
    </a-scene>
  </body>
  <script src="connectivity.js"></script>
  <script src="menu.js"></script>
  <script src="control.js"></script>
</html>
